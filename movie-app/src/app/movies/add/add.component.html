<p>{{movieForm.value | json}}</p>
<p>{{movieForm.status | json}}</p>

<form [formGroup]="movieForm" (submit)="onSubmit()">
  <div class="form-group row">
    <label for="name" class="col-2 col-form-label">Name</label>
    <div class="col-4">
      <input class="form-control" type="text" id="name" placeholder="Name" formControlName="name">

      <small class="text-danger"
        *ngIf="!!movieForm.controls.name.touched && !!movieForm.controls.name.errors?.required">
        Name is required</small>
    </div>
  </div>

  <div class="form-group row">
    <label for="description" class="col-2 col-form-label">Description</label>
    <div class="col-4">
      <textarea class="form-control" rows="3" id="description" placeholder="Description"
        formControlName="description"></textarea>
      <small class="text-danger"
        *ngIf="!!movieForm.controls.description.touched && !!movieForm.controls.description.errors?.required">
        Description is required</small>

      <small class="text-danger"
        *ngIf="!!movieForm.controls.description.touched && !!movieForm.controls.description.errors?.minlength">
        Description should be at least 30 characters long.</small>

      <small class="text-danger"
        *ngIf="!!movieForm.controls.description.touched && !!movieForm.controls.description.errors?.maxlength">
        Description should be at most 250 characters long.</small>
    </div>
  </div>

  <div class="form-group row">
    <label for="year" class="col-2 col-form-label">Year</label>
    <div class="col-4">
      <input class="form-control" type="number" id="year" placeholder="Year" formControlName="year">
      <small class="text-danger"
        *ngIf="!!movieForm.controls.year.touched && !!movieForm.controls.year.errors?.required">
        Year is required</small>

      <small class="text-danger" *ngIf="!!movieForm.controls.year.errors?.minlength">
        Year should be exactly 4 characters.</small>

      <!-- <small class="text-danger"
        *ngIf="!!movieForm.controls.year.touched && !!movieForm.controls.year.errors?.maxlength">
        Description should be exactly 4 characters.</small> -->
    </div>
  </div>

  <div class="form-group row">
    <label for="rating" class="col-2 col-form-label">Rating</label>
    <div class="col-4">
      <input class="form-control" type="number" step="0.1" id="rating" placeholder="Rating" formControlName="rating">

      <small class="text-danger"
        *ngIf="!!movieForm.controls.rating.errors?.max">
        Rating can not exceed 10.</small>

    </div>
  </div>

  <div class="form-group row">
    <label for="duration" class="col-2 col-form-label">Duration</label>
    <div class="col-4">
      <input class="form-control" type="number" id="duration" placeholder="Duration" formControlName="duration">
    </div>
  </div>

  <div class="form-group row">
    <label for="director" class="col-2 col-form-label">Director</label>
    <div class="col-4">
      <input class="form-control" type="text" id="director" placeholder="Director" formControlName="director">
    </div>
  </div>

  <div class="form-group row">
    <label for="genre" class="col-2 col-form-label">Genre</label>
    <div class="col-4">
      <select class="form-control" name="genre" id="genre" placeholder="Genre" formControlName="genre">
        <option *ngFor="let g of genres" value="{{g.name}}">{{g.name}}</option>
      </select>
    </div>
  </div>

  <div class="form-group row float-right">
    <div class="col-12">
      <button class="btn btn-primary" type="submit" [disabled]="movieForm.invalid">Submit</button>
    </div>
  </div>
</form>